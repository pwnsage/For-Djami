const endDate = new Date('2025-06-08T19:00:00'); // 8 июня 2025, 19:00

const surprises = [
  "Ты - как птица, летящая к своему гнезду. Скоро приземление!",
  "Облака - это ступеньки к дому. Ты уже на полпути.",
  "Ветер шепчет: 'Ты ближе, чем кажется'",
  "Каждый километр - это нить, связывающая тебя с домом",
  "Ты не просто летишь - ты возвращаешься",
  "Звёзды сегодня особенно яркие - они освещают твой путь домой",
  "В высоте есть особая магия. Ты её чувствуешь?",
  "Самолёт - это мост между мечтой и реальностью",
  "Твоё сердце уже там, куда летит самолёт",
  "За окном - облака, а впереди - объятия",
  "Ты паришь между прошлым и будущим",
  "Земля внизу - как карта твоей любви",
  "Каждый взлёт - это обещание возвращения",
  "Ты оставляешь за собой след в небе, как комета",
  "Дом - это не место на карте, а ощущение в груди",
  "Скоро тень твоего самолёта коснётся родной земли",
  "Ты летишь сквозь время и пространство",
  "Высота даёт возможность увидеть всё по-новому",
  "Облака - это холсты, на которых рисуются мечты",
  "Ты не просто пассажир - ты путешественник между мирами",
  "Завтра твои ноги коснутся земли, которая ждала тебя",
  "Солнце заходит там, где ты будешь завтра утром",
  "Ты ненадолго стал(а) частью неба",
  "Скоро этот полёт станет воспоминанием",
  "Ты летишь не один(а) - с тобой все твои мечты",
  "Земля в иллюминаторе - это обещание встречи",
  "Ты между небом и землёй, между прошлым и будущим",
  "Скоро границы сотрутся, и останется только дом",
  "Ты пишешь свою историю в небе",
  "Высота делает все расстояния незначительными",
  "Ты летишь сквозь время, приближая момент встречи",
  "Завтра ты проснёшься в другом мире",
  "Самолёт - это машина времени, которая приближает счастье",
  "Ты оставляешь позади города, но не воспоминания",
  "Небо сегодня особенно дружелюбное к путешественникам",
  "Ты летишь не к месту, а к моменту",
  "Каждый километр - это страница твоей истории",
  "Скоро иллюминатор наполнится знакомыми пейзажами",
  "Ты ненадолго стал(а) частью ветра",
  "Впереди - момент, когда сердце затрепещет от узнавания",
  "Ты не просто перемещаешься в пространстве - ты меняешь реальность",
  "Скоро границы между 'там' и 'здесь' исчезнут",
  "Ты летишь по маршруту, нарисованному судьбой",
  "Высота делает все мысли яснее",
  "Завтра этот полёт станет историей, которую ты будешь рассказывать",
  "Ты пересекаешь не только пространство, но и время",
  "Скоро иллюминатор наполнится светом родного утра",
  "Ты - как стрела, летящая к своей цели",
  "Небо сегодня благосклонно к путешественникам",
  "Ты летишь не один(а) - с тобой все, кто ждёт тебя"
];

const surpriseElement = document.getElementById('surprise');
const surpriseBtn = document.getElementById('surpriseBtn');
let lastClickTime = 0;

function updateCountdown() {
  const now = new Date();
  const diffTime = endDate - now;
  
  if (diffTime <= 0) {
    document.getElementById('countdown').textContent = "Время пришло!";
    showMessage("Добро пожаловать домой!");
    return;
  }
  
  const days = Math.floor(diffTime / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diffTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((diffTime % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((diffTime % (1000 * 60)) / 1000);
  
  document.getElementById('countdown').textContent = 
    `${days}д ${hours}ч ${minutes}м ${seconds}с`;
}

function showMessage(message) {
  surpriseElement.textContent = message;
  surpriseElement.classList.add('show');
}

function showHourlySurprise() {
  const now = new Date();
  const hourIndex = now.getHours() % surprises.length;
  showMessage(surprises[hourIndex]);
  
  // Проверяем, можно ли показать кнопку
  checkButtonVisibility();
}

function showRandomSurprise() {
  const randomIndex = Math.floor(Math.random() * surprises.length);
  showMessage(surprises[randomIndex]);
  surpriseBtn.classList.add('hidden');
  lastClickTime = Date.now();
  
  // Кнопка появится снова через час
  setTimeout(() => {
    surpriseBtn.classList.remove('hidden');
  }, 60 * 60 * 1000);
}

function checkButtonVisibility() {
  const now = Date.now();
  if (now - lastClickTime > 60 * 60 * 1000) {
    surpriseBtn.classList.remove('hidden');
  }
}

// Инициализация
surpriseBtn.addEventListener('click', showRandomSurprise);
updateCountdown();
setInterval(updateCountdown, 1000);

// Показываем первый сюрприз при загрузке
setTimeout(() => {
  showHourlySurprise();
  setInterval(showHourlySurprise, 60 * 60 * 1000);
}, 1000);
